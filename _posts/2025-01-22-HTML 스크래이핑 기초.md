---
layout : post
title : "HTML 스크래이핑으로 네이버 환율"

categories:
  - Blog
tags:
  - [AI, Machine_Learning, Pandas, Python, html]

toc: true
toc_sticky: true
 
date: 2025-01-21 15:52:00 +0900
---
#### 사전준비
BeautifulSoup을 불러오기 위해,,,
```python
!pip install bs4

```
html문자열은 파이썬에서 다뤄야 한다. 
- `BeautifulSoup`을 이용하여 html을 문자열 엘리먼트 객체로 바꿀 수 있다!
- type이 `BeautifulSoup`임.

#### 네이버 환율정보 가져오기
```python
import requests
from bs4 import BeautifulSoup

url = "https://finance.naver.com/marketindex/"

response = requests.get(url)
page = response.content # content : 접속한 웹 서버의 응답을 문자열로 가져오는 속성

soup = BeautifulSoup(page, 'html.parser') # html.parser : 문서를 컴퓨터가 이해할 수 있는 구조로 변환

soup # 출력 결과 확인 및 어떻게 데이터에 접근할지 확인
```
#### 필요한 데이터만 가져오기

```python
exchange_list = soup.select("#exchangeList > li")
exchange_list
```
#### 하나만 선택하여 스크래이핑 테스트 진행
- 실제로 현업에서 개발할 때, 이렇게 테스트를 먼저 해보고 개발.

```python
# 하나만 잡아서 스크래이핑 테스트
test_fin = exchange_list[0]

# 대상 화폐
test_fin.select_one("h3.blind").text

# 환율
float(test_fin.select_one("span.value").text.replace(",",""))

# 변동
float(test_fin.select_one("span.change").text)

# 드가자 1
test_fin.select_one("span.blind")[-1].text
# 드가자 2
test_fin.select_one("span.change").nextSibling.nextSbling.text
```
#### 테스트가 잘 됐으니 예쁘게 코딩하자
```python
# 전체 데이터 스크래이핑
c_name_list = [] # 나라 이름
exchange_rate_list = [] 
change_list = [] 
updown_list = [] 

for exchange in exchange_list:
    

```
