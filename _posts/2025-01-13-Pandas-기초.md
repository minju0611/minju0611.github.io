---
layout : post
title : "Pandas 기초"

categories:
  - Blog
tags:
  - [AI, Machine_Learning, TOSS,  ]

toc: true
toc_sticky: true
 
date: 2025-01-13 15:52:00 +0900
---
# 01. [Pandas] 데이터 불러오기 & 저장하기
## 데이터 불러오기 & 저장하기
### csv 불러오기
- Comma Seperated Values

### csv 파일 불러오기
```python
import pandas as pd

csv_file_path = "./data/titanic_train.csv"
df_csv = pd.read_csv(csv_file_path)
df_csv
```
```python
# index_col을 사용해서 인덱스 지정하기
df_csv = pd.read_csv("./data/titanic_train.csv", index_col = "PassengerId")
```
### 데이터프레임 정보 확인
```python
df_csv.info()
```

### 데이터의 일부 정보만 확인
```python
df_csv.head() # 상위 5개의 정보 확인
df_csv.tail(10) # 하위 10개의 정보 확인
```

## 웹 html 파일 불러오기
- 웹 페이지의 table태그(표)를 데이터 프레임으로 받아 올 수 있다.

```python
!pip install lxml html5lib 
```

```python
html_path = "https://finance.naver.com/sise/sise_quant.naver"

# utf-8이 기본! 안되면 euc-kr, 이것도 안되면 cp949, 이것도 안되면 엑셀로 
html_data_list = pd.read_html(html_path, encoding ='euc-kr')
html_data_list 

```
- html은 csv와 excel과 다르게 list형식으로 불러와지는 듯한
```python
df_kospi = html_data_list[1]
df_kospi.head()
# NaN : 값이 없다는 뜻 
```
```python
# 모든 값이 NaN이라면 해당 행을 삭제한 후, index를 다시 매긴다. (삭제된 index는 dataframe에 남기지 않고 drop한다.)
df_processed = df_kospi.dropna(how="all").reset_index(drop=True)
df_processed
```

### 파일 저장하기
```python
# dataframe을 csv로 저장하는 명령어, 저장할 파일의 경로와 이름도 지정
df_processed.to_csv("./data/kospi_processed_20250113.csv", encoding="utf-8")
```
# 02. [Pandas] Serise와 DataFrame

# 03. [Pandas] 데이터 선택 및 추출
```python
# serise를 2차원 배열인 df 형식으로 바꾸는 게 .to.frame()
df['Fare'].to_frame() # df는 2차원 배열, serise는 1차원 배열!!!!!!!!!!
```

```python
# Fancy Indexing 사용하기
columns = ['Survived',"Pclass","Name"]
df[columns]
```